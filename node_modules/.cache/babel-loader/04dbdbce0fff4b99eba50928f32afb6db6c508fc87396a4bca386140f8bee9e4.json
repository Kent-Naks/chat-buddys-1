{"ast":null,"code":"var _jsxFileName = \"/home/chemelil/chat-buddys-1/src/ChatConversation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport './ChatConversation.css'; // Importing the CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatConversation() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const topic = queryParams.get('topic');\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [questionIndex, setQuestionIndex] = useState(0);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    fetch('/db.json').then(response => response.json()).then(data => {\n      setMessages(data.conversations[id] ? data.conversations[id][topic] : []);\n    });\n    fetch('/db.json').then(response => response.json()).then(data => {\n      if (data.buddies[id]) {\n        setQuestions(data.buddies[id].questions || []);\n      }\n    });\n  }, [id, topic]);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newMessage = {\n      text: input,\n      sender: 'user'\n    };\n    setMessages([...messages, newMessage]);\n    const response = getAIResponse(input, topic);\n    if (response) {\n      setMessages(prevMessages => [...prevMessages, newMessage, {\n        text: response,\n        sender: 'buddy'\n      }]);\n    }\n    if (questionIndex < questions.length) {\n      setMessages(prevMessages => [...prevMessages, {\n        text: questions[questionIndex],\n        sender: 'buddy'\n      }]);\n      setQuestionIndex(questionIndex + 1);\n    }\n    setInput('');\n  };\n  const getAIResponse = (userInput, topic) => {\n    const responses = {\n      political: [\"Did you know that the United Nations was founded in 1945?\", \"Did you know that democracy originated in ancient Greece?\", \"Did you know that the United States has a two-party system?\", \"Did you know that the European Union is a political and economic union?\", \"Did you know that the Cold War was a period of geopolitical tension between the US and USSR?\"],\n      emotional: [\"Did you know that expressing gratitude can increase happiness?\", \"Did you know that laughter triggers the release of endorphins?\", \"Did you know that music can influence your emotions?\", \"Did you know that talking to friends can reduce stress?\", \"Did you know that physical touch can lower blood pressure?\"],\n      scientific: [\"Did you know that water makes up about 71% of the Earth's surface?\", \"Did you know that the speed of light is approximately 299,792 kilometers per second?\", \"Did you know that humans share 60% of their DNA with bananas?\", \"Did you know that the universe is estimated to be 13.8 billion years old?\", \"Did you know that honey never spoils?\"]\n    };\n    const facts = responses[topic] || [];\n    return facts[Math.floor(Math.random() * facts.length)];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-conversation\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Conversation on \", topic]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.sender}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-bubble ${msg.sender}`,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"input-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"input-field\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type a message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"send-button\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatConversation, \"KfGPSNOaOYgJxDTq1J89GRohTeI=\", false, function () {\n  return [useParams, useLocation];\n});\n_c = ChatConversation;\nexport default ChatConversation;\nvar _c;\n$RefreshReg$(_c, \"ChatConversation\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useLocation","jsxDEV","_jsxDEV","ChatConversation","_s","id","location","queryParams","URLSearchParams","search","topic","get","messages","setMessages","input","setInput","questions","setQuestions","questionIndex","setQuestionIndex","chatEndRef","fetch","then","response","json","data","conversations","buddies","_chatEndRef$current","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","newMessage","text","sender","getAIResponse","prevMessages","length","userInput","responses","political","emotional","scientific","facts","Math","floor","random","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","ref","onSubmit","type","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["/home/chemelil/chat-buddys-1/src/ChatConversation.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport './ChatConversation.css';  // Importing the CSS file\n\nfunction ChatConversation() {\n  const { id } = useParams();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const topic = queryParams.get('topic');\n  \n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [questionIndex, setQuestionIndex] = useState(0);\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    fetch('/db.json')\n      .then(response => response.json())\n      .then(data => {\n        setMessages(data.conversations[id] ? data.conversations[id][topic] : []);\n      });\n\n    fetch('/db.json')\n      .then(response => response.json())\n      .then(data => {\n        if (data.buddies[id]) {\n          setQuestions(data.buddies[id].questions || []);\n        }\n      });\n  }, [id, topic]);\n\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newMessage = { text: input, sender: 'user' };\n    setMessages([...messages, newMessage]);\n\n    const response = getAIResponse(input, topic);\n    if (response) {\n      setMessages(prevMessages => [...prevMessages, newMessage, { text: response, sender: 'buddy' }]);\n    }\n\n    if (questionIndex < questions.length) {\n      setMessages(prevMessages => [...prevMessages, { text: questions[questionIndex], sender: 'buddy' }]);\n      setQuestionIndex(questionIndex + 1);\n    }\n\n    setInput('');\n  };\n\n  const getAIResponse = (userInput, topic) => {\n    const responses = {\n      political: [\n        \"Did you know that the United Nations was founded in 1945?\",\n        \"Did you know that democracy originated in ancient Greece?\",\n        \"Did you know that the United States has a two-party system?\",\n        \"Did you know that the European Union is a political and economic union?\",\n        \"Did you know that the Cold War was a period of geopolitical tension between the US and USSR?\"\n      ],\n      emotional: [\n        \"Did you know that expressing gratitude can increase happiness?\",\n        \"Did you know that laughter triggers the release of endorphins?\",\n        \"Did you know that music can influence your emotions?\",\n        \"Did you know that talking to friends can reduce stress?\",\n        \"Did you know that physical touch can lower blood pressure?\"\n      ],\n      scientific: [\n        \"Did you know that water makes up about 71% of the Earth's surface?\",\n        \"Did you know that the speed of light is approximately 299,792 kilometers per second?\",\n        \"Did you know that humans share 60% of their DNA with bananas?\",\n        \"Did you know that the universe is estimated to be 13.8 billion years old?\",\n        \"Did you know that honey never spoils?\"\n      ]\n    };\n\n    const facts = responses[topic] || [];\n    return facts[Math.floor(Math.random() * facts.length)];\n  };\n\n  return (\n    <div className=\"chat-conversation\">\n      <h1>Conversation on {topic}</h1>\n      <div className=\"chat-container\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`message ${msg.sender}`}>\n            <div className={`chat-bubble ${msg.sender}`}>\n              <p>{msg.text}</p>\n            </div>\n          </div>\n        ))}\n        <div ref={chatEndRef} /> {/* This div helps to scroll to the bottom */}\n      </div>\n      <form className=\"input-form\" onSubmit={handleSubmit}>\n        <input \n          type=\"text\" \n          className=\"input-field\"\n          value={input} \n          onChange={(e) => setInput(e.target.value)} \n          placeholder=\"Type a message...\" \n        />\n        <button type=\"submit\" className=\"send-button\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default ChatConversation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}